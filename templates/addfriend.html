{% extends "layout.html" %}

{% block title %}
    Add Friend
{% endblock %}

{% block head %}
<script language="JavaScript">
    $(document).ready(function(){
        //cursor to the end when tabbed into text area
        $('textarea').on('keyup', function(event){
            if (event.which == 9) {
                //add first bullet if necessary
                if($.trim($(this).val()) == "") {
                    $(this).focus().val("• ");
                }
                else {
                    var text = $(this).val();
                    $(this).focus().val("").val(text);
                }
            }
        });

        //bullet point after enter key pressed: http://output.jsbin.com/uPALIRU/1/
        $('textarea').on('keydown', function(event){
            var text = $(this); //this text area
            switch(event.which){ //event.which returns which key was pressed
                case 13: //13 is enter key
                    text.val(text.val()+'\n• ');
                    return false;
            }
        });

        //add first bullet to empty fields
        $('textarea').click(function(){
           if($(this).val() == ""){
               $(this).val("• ");
           }
        });

        //assure user Submit button is clicked
        $('#addname').click(function(){
            $('message').html("Adding {{name}}...");
        });
    });
</script>
{% endblock %}

{% block main %}
    <div class="header">Add Friend...</div><br>
    <div>Tip: Add the '#' symbol to create tags (e.g. Mark loves #dogs and #cars).<br>
    You can easily track down any taggedd notes in the future by entering the tag into the search bar.<br>
    You may also browse all existing hashtags by clicking into the 'Hashtags' tab at the top of the page. <br><br></div>

    <!-- Add Friend Info -->
    <form action="{{ url_for('addfriend') }}" name="addfriend" method="post">
        <fieldset>
            <table align="center">
                <tr>
                    <td align="right">Friend's Name</td>
                    <td align="left"><div class="form-group"><input class="form-control" id="name" name="name" placeholder="e.g. Tom Cruise" type="text"/></div></td>
                </tr>
                <tr>
                    <td align="right">Interests</td>
                    <td align="left"><div class="form-group"><textarea class="form-control subhead" rows="3" name="interest" placeholder="e.g. Skydiving champion 2017"></textarea></div></td>
                </tr>
                <tr>
                    <td align="right">Dislikes</td>
                    <td align="left"><div class="form-group"><textarea class="form-control subhead" rows="3" name="dislike" placeholder="e.g. Shell-less seafood"></textarea></div></td>
                </tr>
                <tr>
                    <td align="right">Life Plans</td>
                    <td align="left"><div class="form-group"><textarea class="form-control subhead" rows="3" name="plan" placeholder="e.g. Looking to get roof remodeled"></textarea></div></td>
                </tr>
                <tr>
                    <td align="right">Stories</td>
                    <td align="left"><div class="form-group"><textarea class="form-control subhead" rows="3" name="story" placeholder="e.g. Raised a puppy under his bed in 1st grade, parents didn't find out til 2 weeks later."></textarea></div></td>
                </tr>
                <tr>
                    <td align="right">Potential To-Do's</td>
                    <td align="left"><div class="form-group"><textarea class="form-control subhead" rows="3" name="todo" placeholder="e.g. Corgi Day at Pacific Beach"></textarea></div></td>
                </tr>
                <tr>
                    <td align="right">Shared Events</td>
                    <td align="left"><div class="form-group"><textarea class="form-control subhead" rows="3" name="event" placeholder="e.g. 11/23/2017 Samantha's Birthday Party"></textarea></div></td>
                </tr>
                <tr>
                    <td align="right">Work / School</td>
                    <td align="left"><div class="form-group"><textarea class="form-control subhead" rows="3" name="work" placeholder="e.g. Cambridge, Microsoft HR - CA branch"></textarea></div></td>
                </tr>
                <tr>
                    <td align="right">Inspiring Quotes</td>
                    <td align="left"><div class="form-group"><textarea class="form-control subhead" rows="3" name="quote" placeholder="e.g. Confidence is not 'They'll like me' but rather 'I'm ok if they don't."></textarea></div></td>
                </tr>
                <tr>
                    <td align="right">General Notes</td>
                    <td align="left"><div class="form-group"><textarea class="form-control subhead" rows="3" name="note" placeholder="e.g. Borrowed a rubber hammer"></textarea></div></td>
                </tr>
                <tr>
                    <td colspan="2"><div class="form-group gray"><button class="btn btn-default" type="submit" id="addname">Add</button>
                    <br><span class="error">{{message}}</span>
                    <p id='message' class='error'></p></div></td>
                </tr>

            </table>
        </fieldset>
    </form>
{% endblock %}
